{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Microsoft.Hosting.Lifetime": "Information"
    }
  },
  "AllowedHosts": "*",
  "FanoutBroker": {
    "FhirServers": [
      {
        "Id": "server1",
        "Name": "Primary FHIR Server",
        "BaseUrl": "https://server1.example.com/fhir",
        "IsEnabled": true,
        "Priority": 1,
        "TimeoutSeconds": 30,
        "Authentication": {
          "Type": "Bearer",
          "BearerToken": "your-bearer-token-here"
        },
        "Headers": {
          "X-Custom-Header": "custom-value"
        }
      },
      {
        "Id": "server2", 
        "Name": "Secondary FHIR Server",
        "BaseUrl": "https://server2.example.com/fhir",
        "IsEnabled": true,
        "Priority": 2,
        "TimeoutSeconds": 30,
        "Authentication": {
          "Type": "ClientCredentials",
          "ClientId": "your-client-id",
          "ClientSecret": "your-client-secret",
          "TokenEndpoint": "https://auth.example.com/oauth2/token",
          "Scope": "fhir.read"
        }
      },
      {
        "Id": "server3",
        "Name": "Tertiary FHIR Server", 
        "BaseUrl": "https://server3.example.com/fhir",
        "IsEnabled": true,
        "Priority": 3,
        "TimeoutSeconds": 30,
        "Authentication": {
          "Type": "Basic",
          "Username": "your-username",
          "Password": "your-password"
        }
      }
    ],
    "SearchTimeoutSeconds": 30,
    "ChainSearchTimeoutSeconds": 15,
    "FillFactor": 0.5,
    "MaxResultsPerServer": 1000,
    "MaxChainDepth": 3,
    "EnableCircuitBreaker": true,
    "CircuitBreakerFailureThreshold": 5,
    "CircuitBreakerTimeoutSeconds": 60
  }
}